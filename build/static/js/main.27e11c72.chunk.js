(this["webpackJsonpcurrent-exchange"]=this["webpackJsonpcurrent-exchange"]||[]).push([[0],{131:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),o=(n(131),n(19)),s=n(212),j=n(211),l=n(216),u=n(78),b=n.n(u),d=n(98),O=n(99),h=n.n(O),x=n(191),f=n(67),g=n(214),m=n(6),p=Object(x.a)({title:{color:f.a[500]}}),v=function(){var e=p();return Object(m.jsx)(g.a,{m:2,className:e.title,children:Object(m.jsx)("h1",{children:"Current exchange from SNB"})})},w=n(193),C=Object(x.a)({button:{backgroundColor:f.a[500],color:f.a[50],"&:hover":{backgroundColor:f.a[300],color:f.a[900]}}}),k=function(e){var t=e.onClick,n=C();return Object(m.jsx)(g.a,{m:2,children:Object(m.jsx)(w.a,{variant:"contained",className:n.button,onClick:t,children:"Reload"})})},D=n(198),y=n(199),P=n(202),S=n(201),M=n(196),N=n(203),E=n(217),F=n(200),I=n(197),T=n(220),Y=n(23),A=n(195),B=n(80),R=n.n(B),L=n(82),J=n.n(L),U=n(81),W=n.n(U),q=n(79),z=n.n(q),G=Object(x.a)((function(e){return Object(T.a)({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})})),H=function(e){var t=G(),n=Object(Y.a)(),a=e.count,c=e.page,r=e.rowsPerPage,i=e.onChangePage;return Object(m.jsxs)("div",{className:t.root,children:[Object(m.jsx)(A.a,{onClick:function(e){i(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===n.direction?Object(m.jsx)(z.a,{}):Object(m.jsx)(R.a,{})}),Object(m.jsx)(A.a,{onClick:function(e){i(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===n.direction?Object(m.jsx)(W.a,{}):Object(m.jsx)(J.a,{})}),Object(m.jsx)(A.a,{onClick:function(e){i(e,c+1)},disabled:c>=Math.ceil(a/r)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(m.jsx)(J.a,{}):Object(m.jsx)(W.a,{})}),Object(m.jsx)(A.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(a/r)-1))},disabled:c>=Math.ceil(a/r)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(m.jsx)(R.a,{}):Object(m.jsx)(z.a,{})})]})};function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD:MM:YYYY",a=new Date(e),c=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),r=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(a),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a);return"YYYY:MM:DD"===n?"".concat(c).concat(t).concat(r).concat(t).concat(i):"".concat(i).concat(t).concat(r).concat(t).concat(c)}var Q=Object(x.a)({table:{minWidth:500}});function V(e){var t=e.data,n=Q(),a=c.a.useState(0),r=Object(o.a)(a,2),i=r[0],s=r[1],j=c.a.useState(5),l=Object(o.a)(j,2),u=l[0],b=l[1],d=u-Math.min(u,t.length-i*u);return Object(m.jsx)(M.a,{component:I.a,children:Object(m.jsxs)(D.a,{className:n.table,"aria-label":"custom pagination table",children:[Object(m.jsx)(y.a,{children:Object(m.jsxs)(F.a,{children:[Object(m.jsx)(S.a,{children:"Date"}),["eur","usd","jpy","gbp"].map((function(e){return Object(m.jsx)(S.a,{align:"right",children:e.toUpperCase()},e)}))]})}),Object(m.jsxs)(P.a,{children:[(u>0?t.slice(i*u,i*u+u):t).map((function(e){return Object(m.jsx)(F.a,{children:Object.keys(e).map((function(t){return"date"===t?Object(m.jsx)(S.a,{component:"th",scope:"row",children:K(e[t])},t):Object(m.jsx)(S.a,{align:"right",children:e[t].toFixed(4)},t)}))},e.date)})),d>0&&Object(m.jsx)(F.a,{style:{height:53*d},children:Object(m.jsx)(S.a,{colSpan:6})})]}),Object(m.jsx)(N.a,{children:Object(m.jsx)(F.a,{children:Object(m.jsx)(E.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:5,count:t.length,rowsPerPage:u,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){b(parseInt(e.target.value,10)),s(0)},ActionsComponent:H})})})]})})}var X=n(103),Z=n(15),$=n(213),_=Object(x.a)({datepicker:{padding:8,margin:8}}),ee=function(e){var t=e.minDate,n=e.onChange,c=_(),r=Object(a.useState)(new Date),i=Object(o.a)(r,2),s=i[0],j=i[1];return Object(m.jsx)(Z.a,{utils:X.a,children:Object(m.jsx)($.a,{className:c.datepicker,clearable:!0,value:s,onChange:function(e){e&&j(e),e&&n(e)},minDate:t||new Date,format:"dd/MM/yyyy"})})},te=n(208),ne=n(204),ae=n(210),ce=Object(x.a)({list:{display:"flex",flexDirection:"row",padding:0,backgroundColor:f.a[300],borderRadius:4,marginBottom:8},listItem:{textAlign:"center",color:"white"}}),re=function(e){var t=e.currentExchanges,n=e.date,c=ce(),r=Object(a.useState)(t[0]),i=Object(o.a)(r,2),s=i[0],j=i[1];Object(a.useEffect)((function(){n&&t&&function(){var e=Date.parse("".concat(n)),a=t.filter((function(t){return e>=t.date}));j(a[0])}()}),[t,n]);var l=s&&Object(m.jsx)(te.a,{className:c.list,children:Object.keys(s).map((function(e){return"date"!==e?Object(m.jsx)(ne.a,{className:c.listItem,children:Object(m.jsx)(ae.a,{primary:e.toUpperCase(),secondary:s[e]})},e):null}))});return Object(m.jsx)("div",{children:l})},ie=n(209),oe=Object(x.a)({loading:{color:f.a[500]}}),se=function(){var e=oe();return Object(m.jsx)(g.a,{mt:30,className:e.loading,children:Object(m.jsx)(ie.a,{color:"inherit"})})};n(157);var je=function(){var e=Object(a.useRef)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(new Date),u=Object(o.a)(i,2),O=u[0],x=u[1],f=Object(a.useState)(!1),g=Object(o.a)(f,2),p=g[0],w=g[1],C=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://".concat(window.location.hostname,":5000/api/current-exchange"),e.next=4,h.a.get(t);case 4:n=e.sent,a=n.data,c=a.currentExchange,r(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();r(void 0),e()}),[e]),{currentExchange:c}}(c).currentExchange;Object(a.useEffect)((function(){return e.current=setTimeout((function(){return w(!0)}),1e4),function(){return e&&e.current&&clearTimeout(e.current)}}),[]),Object(a.useEffect)((function(){C&&e&&e.current&&(clearTimeout(e.current),w(!1))}),[C]);var D=C&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(j.a,{container:!0,spacing:2,children:[Object(m.jsx)(j.a,{item:!0,xs:12,sm:3,children:Object(m.jsx)(ee,{minDate:function(e){var t=e[e.length-1].date;return new Date(t)}(C),onChange:function(e){return x(e)}})}),Object(m.jsx)(j.a,{item:!0,xs:12,sm:9,children:Object(m.jsx)(re,{currentExchanges:C,date:O})})]}),Object(m.jsx)(V,{data:C})]}),y=Object(m.jsx)(s.a,{children:Object(m.jsx)(l.a,{severity:"error",children:"A connection to the server could not be established."})}),P=p?y:Object(m.jsx)(se,{});return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("main",{className:"App-main",children:Object(m.jsxs)(s.a,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(k,{onClick:function(){return r(!c)}}),D,!C&&P]})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(je,{}),document.getElementById("root")),le()}},[[158,1,2]]]);
//# sourceMappingURL=main.27e11c72.chunk.js.map